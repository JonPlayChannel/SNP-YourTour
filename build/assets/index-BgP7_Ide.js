(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const I={root:"[data-js-header]",logoSvg:"[data-js-header-logo-svg]"},g={isActive:"is-active"},A=document.querySelector(I.root),P=A.querySelector(I.logoSvg),w=()=>{window.scrollY>450?(P.classList.add(g.isActive),A.classList.add(g.isActive)):(P.classList.remove(g.isActive),A.classList.remove(g.isActive))};function W(){window.addEventListener("scroll",w),w()}const n={root:"[data-js-form]",formName:"[data-js-form-name]",formSelect:"[data-js-form-select]",formEmail:"[data-js-form-email]",formPhone:"[data-js-form-phone]",formDateForm:"[data-js-form-date-from]",formDateTo:"[data-js-form-date-to]",isAdultRadioButton:"[data-js-form-is-adult]",notAdultRadioButton:"[data-js-form-not-adult]",formCheckbox:"[data-js-form-checkbox]",findTourButton:"[data-js-form-button-find-tour]"},r={notSelected:"not-selected",invalid:"invalid"},m=document.querySelector(n.root),f=document.querySelector(n.formName),v=m.querySelector(n.formSelect),h=m.querySelector(n.formEmail),i=m.querySelector(n.formPhone),d=m.querySelector(n.formDateForm),u=m.querySelector(n.formDateTo),H=document.querySelector(n.isAdultRadioButton),q=document.querySelector(n.notAdultRadioButton),M=document.querySelector(n.formCheckbox),Y=document.querySelector(n.findTourButton),j=new Date().setHours(0,0,0,0);let L=!1,p=!1,E=!1,y=!1,S=!1,b=!1,D=!1;const R=t=>t.trim().length>0,k=t=>t.value!=="",O=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),T=t=>/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(t),K=()=>{let t=i.value.replace(/\D/g,"").substring(0,11);const e=t.startsWith("7")||t.startsWith("8")?t.substring(1):t;i.value="+7"+(e.length>0?" ("+e.substring(0,3):"")+(e.length>3?") "+e.substring(3,6):"")+(e.length>6?"-"+e.substring(6,8):"")+(e.length>8?"-"+e.substring(8,10):""),i.setSelectionRange(i.value.length,i.value.length)},B=t=>{const e=/^(\d{2})\.(\d{2})\.(\d{4})$/,a=t.match(e);if(!a)return!1;const c=parseInt(a[1],10),s=parseInt(a[2],10)-1,o=parseInt(a[3],10),l=new Date(o,s,c);return l.getFullYear()!==o||l.getMonth()!==s||l.getDate()!==c?!1:l.setHours(0,0,0,0)>=j},F=(t,e)=>{if(!B(t)||!B(e))return!1;const[a,c,s]=t.split(".").map(Number),[o,l,U]=e.split(".").map(Number),C=new Date(s,c-1,a),N=new Date(U,l-1,o);return C<j||N<j?!1:C<=N},V=()=>!H.checked&&!q.checked?!1:!q.checked,$=()=>M.checked,x=t=>{let e=t.value.replace(/\D/g,"");e.length>2&&(e=e.slice(0,2)+"."+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"."+e.slice(5,9)),t.value=e.slice(0,10)},z=()=>{f.addEventListener("input",()=>{f.classList.remove(r.invalid),L=R(f.value)}),v.addEventListener("change",()=>{v.classList.remove(r.invalid,r.notSelected),p=k(v)}),h.addEventListener("input",()=>{h.classList.remove(r.invalid),E=O(h.value)}),i.addEventListener("input",()=>{K(),i.classList.remove(r.invalid),y=T(i.value)});const t=()=>{d.classList.remove(r.invalid),u.classList.remove(r.invalid),S=F(d.value,u.value)};d.addEventListener("input",()=>{x(d),t()}),u.addEventListener("input",()=>{x(u),t()});const e=()=>{b=V()};H.addEventListener("change",e),q.addEventListener("change",e),M.addEventListener("change",()=>{D=$()}),Y.addEventListener("click",a=>{a.preventDefault(),L=R(f.value),p=k(v),E=O(h.value),y=T(i.value),S=F(d.value,u.value),b=V(),D=$(),L||(alert('Неверно заполнено поле "Имя".'),f.classList.add(r.invalid)),p||(alert("Не выбрано направление."),v.classList.add(r.invalid,r.notSelected)),E||(alert("Допущена ошибка а адресе электронной почты."),h.classList.add(r.invalid)),y||(alert("Неверный формат номера телефона."),i.classList.add(r.invalid)),S||(alert("Проверьте правильность введённых дат."),d.classList.add(r.invalid),u.classList.add(r.invalid)),b||alert("Для использования данного сервиса вам должно быть 18 лет или больше."),D||alert("Вы не приняли условия Лицензионного договора. Пожалуйста, отметьте соответствующее поле."),L&&p&&E&&y&&S&&b&&D&&(alert("Спасибо за вашу заявку!"),m.submit())})};console.clear();W();z();
