(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const O={root:"[data-js-header]",logoSvg:"[data-js-header-logo-svg]"},f={isActive:"is-active"},A=document.querySelector(O.root),P=A.querySelector(O.logoSvg),w=()=>{window.scrollY>450?(P.classList.add(f.isActive),A.classList.add(f.isActive)):(P.classList.remove(f.isActive),A.classList.remove(f.isActive))};function V(){window.addEventListener("scroll",w),w()}const n={root:"[data-js-form]",formName:"[data-js-form-name]",formSelect:"[data-js-form-select]",formEmail:"[data-js-form-email]",formPhone:"[data-js-form-phone]",formDateForm:"[data-js-form-date-from]",formDateTo:"[data-js-form-date-to]",isAdultRadioButton:"[data-js-form-is-adult]",notAdultRadioButton:"[data-js-form-not-adult]",formCheckbox:"[data-js-form-checkbox]",findTourButton:"[data-js-form-button-find-tour]"},r={notSelected:"not-selected",invalid:"invalid"},d=document.querySelector(n.root),v=document.querySelector(n.formName),h=d.querySelector(n.formSelect),g=d.querySelector(n.formEmail),i=d.querySelector(n.formPhone),u=d.querySelector(n.formDateForm),m=d.querySelector(n.formDateTo),T=document.querySelector(n.isAdultRadioButton),q=document.querySelector(n.notAdultRadioButton),B=document.querySelector(n.formCheckbox),$=document.querySelector(n.findTourButton),j=new Date().setHours(0,0,0,0);let L=!1,p=!1,E=!1,y=!1,S=!1,b=!1,D=!1;const x=t=>t.trim().length>0,I=t=>t.value!=="",H=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),M=t=>/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(t),U=()=>{let t=i.value.replace(/\D/g,"").substring(0,11);const e=t.startsWith("7")||t.startsWith("8")?t.substring(1):t;i.value="+7"+(e.length>0?" ("+e.substring(0,3):"")+(e.length>3?") "+e.substring(3,6):"")+(e.length>6?"-"+e.substring(6,8):"")+(e.length>8?"-"+e.substring(8,10):""),i.setSelectionRange(i.value.length,i.value.length)},R=t=>{const e=/^(\d{2})\.(\d{2})\.(\d{4})$/,a=t.match(e);if(!a)return!1;const c=parseInt(a[1],10),s=parseInt(a[2],10)-1,o=parseInt(a[3],10),l=new Date(o,s,c);return l.getFullYear()!==o||l.getMonth()!==s||l.getDate()!==c?!1:l.setHours(0,0,0,0)>=j},W=(t,e)=>{if(!R(t)||!R(e))return!1;const[a,c,s]=t.split(".").map(Number),[o,l,F]=e.split(".").map(Number),C=new Date(s,c-1,a),N=new Date(F,l-1,o);return C<j||N<j?!1:C<=N},Y=()=>!T.checked&&!q.checked?!1:!q.checked,K=()=>B.checked,k=t=>{let e=t.value.replace(/\D/g,"");e.length>2&&(e=e.slice(0,2)+"."+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"."+e.slice(5,9)),t.value=e.slice(0,10)},z=()=>{v.addEventListener("input",()=>{v.classList.remove(r.invalid),L=x(v.value)}),h.addEventListener("change",()=>{h.classList.remove(r.invalid,r.notSelected),p=I(h)}),g.addEventListener("input",()=>{g.classList.remove(r.invalid),E=H(g.value)}),i.addEventListener("input",()=>{U(),i.classList.remove(r.invalid),y=M(i.value)});const t=()=>{u.classList.remove(r.invalid),m.classList.remove(r.invalid),S=W(u.value,m.value)};u.addEventListener("input",()=>{k(u),t()}),m.addEventListener("input",()=>{k(m),t()});const e=()=>{b=Y()};T.addEventListener("change",e),q.addEventListener("change",e),B.addEventListener("change",()=>{D=K()}),$.addEventListener("click",a=>{a.preventDefault(),L||(alert('Неверно заполнено поле "Имя".'),v.classList.add(r.invalid)),p||(alert("Не выбрано направление."),h.classList.add(r.invalid,r.notSelected)),E||(alert("Допущена ошибка а адресе электронной почты."),g.classList.add(r.invalid)),y||(alert("Неверный формат номера телефона."),i.classList.add(r.invalid)),S||(alert("Проверьте правильность введённых дат."),u.classList.add(r.invalid),m.classList.add(r.invalid)),b||alert("Для использования данного сервиса вам должно быть 18 лет или больше."),D||alert("Вы не приняли условия Лицензионного договора. Пожалуйста, отметьте соответствующее поле."),L&&p&&E&&y&&S&&b&&D&&(alert("Спасибо за вашу заявку!"),d.submit())})};console.clear();V();z();
