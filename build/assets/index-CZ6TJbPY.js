(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();const A={root:"[data-js-header]",logoSvg:"[data-js-header-logo-svg]"},p={isActive:"is-active"},S=document.querySelector(A.root),w=S.querySelector(A.logoSvg),E=()=>{window.scrollY>450?(w.classList.add(p.isActive),S.classList.add(p.isActive)):(w.classList.remove(p.isActive),S.classList.remove(p.isActive))};function V(){window.addEventListener("scroll",E),E()}const g={root:"[data-js-form]",formSelect:"[data-js-form-select]",formEmail:"[data-js-form-email]",formPhone:"[data-js-form-phone]",formDateForm:"[data-js-form-date-from]",formDateTo:"[data-js-form-date-to]"},l={notSelected:"not-selected",invalid:"invalid"},m=document.querySelector(g.root),I=m.querySelector(g.formSelect),c=m.querySelector(g.formEmail),f=m.querySelector(g.formPhone),i=m.querySelector(g.formDateForm),v=m.querySelector(g.formDateTo),K=()=>{I.addEventListener("change",()=>{I.classList.remove(l.notSelected)})},O=()=>{const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;c.addEventListener("change",()=>{const t=c.value;e.test(t)||c.classList.add(l.invalid)}),c.addEventListener("input",()=>{c.classList.remove(l.invalid)}),c.addEventListener("blur",()=>{e.test(emailInputValue)||c.classList.add(l.invalid),c.classList.remove(l.invalid)})},T=()=>{f.addEventListener("input",()=>{const e=f.value.replace(/\D/g,"").substring(0,11),t=e.startsWith("7")||e.startsWith("8")?e.substring(1):e;f.value="+7"+(t.length>0?" ("+t.substring(0,3):"")+(t.length>3?") "+t.substring(3,6):"")+(t.length>6?"-"+t.substring(6,8):"")+(t.length>8?"-"+t.substring(8,10):""),f.setSelectionRange(f.value.length,f.value.length)})};function P(e){if(!e)return!1;const t=e.value.trim(),n=/^(\d{2})\.(\d{2})\.(\d{4})$/;if(!n.test(t))return!1;const[,o,s,a]=t.match(n),r=parseInt(o,10),u=parseInt(s,10),d=parseInt(a,10);if(r<1||r>31||u<1||u>12||d<1e3||d>9999||u===2&&r>29||[4,6,9,11].includes(u)&&r>30||u===2&&r===29&&!(d%4===0&&d%100!==0||d%400===0))return!1;const h=new Date(d,u-1,r);if(h.getDate()!==r||h.getMonth()!==u-1||h.getFullYear()!==d)return!1;const D=new Date;if(D.setHours(0,0,0,0),h<D)return!1;if(e===v&&i&&i.value){const b=i.value.trim();if(n.test(b)){const[,q,j,x]=b.match(n),N=new Date(parseInt(x),parseInt(j)-1,parseInt(q));if(h<N)return!1}}return!0}function y(e){if(!e)return;const t=e.selectionStart;let n=e.value.replace(/\D/g,"");n=n.substring(0,8);let o="";n.length>0&&(o=n.substring(0,2)),n.length>2&&(o+="."+n.substring(2,4)),n.length>4&&(o+="."+n.substring(4,8)),e.value=o;let s=t;t===3&&n.length>=2&&(s=4),t===6&&n.length>=4&&(s=7),e.setSelectionRange(s,s),o.length===10?P(e)?e.classList.remove(l.invalid):e.classList.add(l.invalid):e.classList.remove(l.invalid)}function L(e){if(!e||!e.value)return;P(e)||(e===i?alert('Поле "Дата от" не может имеет значение раньше сегодняшнего дня'):i&&i.value?alert('Поле "Дата до" не может имеет значение раньше поля "Дата от"'):alert('Поле "Дата до" не может имеет значение раньше сегодняшнего дня'),e.value="",e.classList.remove(l.invalid))}function C(){i&&(i.addEventListener("input",function(e){e.data&&!/\d/.test(e.data)&&(this.value=this.value.replace(/[^\d.]/g,"")),y(this)}),i.addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),L(this)),!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&!/\d/.test(e.key)&&e.preventDefault()}),i.addEventListener("blur",function(){L(this)}),i.addEventListener("paste",function(e){e.preventDefault();const n=(e.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"");this.value=this.value+n,y(this)})),v&&(v.addEventListener("input",function(e){e.data&&!/\d/.test(e.data)&&(this.value=this.value.replace(/[^\d.]/g,"")),y(this)}),v.addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),L(this)),!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&!/\d/.test(e.key)&&e.preventDefault()}),v.addEventListener("blur",function(){L(this)}),v.addEventListener("paste",function(e){e.preventDefault();const n=(e.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"");this.value=this.value+n,y(this)}))}V();K();O();T();C();
