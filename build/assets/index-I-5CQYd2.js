(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const I={root:"[data-js-header]",logoSvg:"[data-js-header-logo-svg]"},p={isActive:"is-active"},S=document.querySelector(I.root),w=S.querySelector(I.logoSvg),E=()=>{window.scrollY>450?(w.classList.add(p.isActive),S.classList.add(p.isActive)):(w.classList.remove(p.isActive),S.classList.remove(p.isActive))};function K(){window.addEventListener("scroll",E),E()}const g={root:"[data-js-form]",formSelect:"[data-js-form-select]",formEmail:"[data-js-form-email]",formPhone:"[data-js-form-phone]",formDateForm:"[data-js-form-date-from]",formDateTo:"[data-js-form-date-to]"},l={notSelected:"not-selected",invalid:"invalid"},m=document.querySelector(g.root),A=m.querySelector(g.formSelect),d=m.querySelector(g.formEmail),f=m.querySelector(g.formPhone),i=m.querySelector(g.formDateForm),v=m.querySelector(g.formDateTo),O=()=>{A.addEventListener("change",()=>{A.classList.remove(l.notSelected)})},T=()=>{const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;d.addEventListener("change",()=>{const t=d.value;e.test(t)||d.classList.add(l.invalid)}),d.addEventListener("input",()=>{d.classList.remove(l.invalid)}),d.addEventListener("blur",()=>{d.classList.remove(l.invalid)})},V=()=>{f.addEventListener("input",()=>{const e=f.value.replace(/\D/g,"").substring(0,11),t=e.startsWith("7")||e.startsWith("8")?e.substring(1):e;f.value="+7"+(t.length>0?" ("+t.substring(0,3):"")+(t.length>3?") "+t.substring(3,6):"")+(t.length>6?"-"+t.substring(6,8):"")+(t.length>8?"-"+t.substring(8,10):""),f.setSelectionRange(f.value.length,f.value.length)})};function P(e){if(!e)return!1;const t=e.value.trim(),n=/^(\d{2})\.(\d{2})\.(\d{4})$/;if(!n.test(t))return!1;const[,o,s,r]=t.match(n),a=parseInt(o,10),c=parseInt(s,10),u=parseInt(r,10);if(a<1||a>31||c<1||c>12||u<1e3||u>9999||c===2&&a>29||[4,6,9,11].includes(c)&&a>30||c===2&&a===29&&!(u%4===0&&u%100!==0||u%400===0))return!1;const h=new Date(u,c-1,a);if(h.getDate()!==a||h.getMonth()!==c-1||h.getFullYear()!==u)return!1;const D=new Date;if(D.setHours(0,0,0,0),h<D)return!1;if(e===v&&i&&i.value){const b=i.value.trim();if(n.test(b)){const[,q,j,x]=b.match(n),N=new Date(parseInt(x),parseInt(j)-1,parseInt(q));if(h<N)return!1}}return!0}function y(e){if(!e)return;const t=e.selectionStart;let n=e.value.replace(/\D/g,"");n=n.substring(0,8);let o="";n.length>0&&(o=n.substring(0,2)),n.length>2&&(o+="."+n.substring(2,4)),n.length>4&&(o+="."+n.substring(4,8)),e.value=o;let s=t;t===3&&n.length>=2&&(s=4),t===6&&n.length>=4&&(s=7),e.setSelectionRange(s,s),o.length===10?P(e)?e.classList.remove(l.invalid):e.classList.add(l.invalid):e.classList.remove(l.invalid)}function L(e){if(!e||!e.value)return;P(e)||(e===i?alert('Поле "Дата от" не может имеет значение раньше сегодняшнего дня'):i&&i.value?alert('Поле "Дата до" не может имеет значение раньше поля "Дата от"'):alert('Поле "Дата до" не может имеет значение раньше сегодняшнего дня'),e.value="",e.classList.remove(l.invalid))}function C(){i&&(i.addEventListener("input",function(e){e.data&&!/\d/.test(e.data)&&(this.value=this.value.replace(/[^\d.]/g,"")),y(this)}),i.addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),L(this)),!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&!/\d/.test(e.key)&&e.preventDefault()}),i.addEventListener("blur",function(){L(this)}),i.addEventListener("paste",function(e){e.preventDefault();const n=(e.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"");this.value=this.value+n,y(this)})),v&&(v.addEventListener("input",function(e){e.data&&!/\d/.test(e.data)&&(this.value=this.value.replace(/[^\d.]/g,"")),y(this)}),v.addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),L(this)),!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.key.length===1&&!/\d/.test(e.key)&&e.preventDefault()}),v.addEventListener("blur",function(){L(this)}),v.addEventListener("paste",function(e){e.preventDefault();const n=(e.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"");this.value=this.value+n,y(this)}))}K();O();T();V();C();
