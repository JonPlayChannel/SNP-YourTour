(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const T={root:"[data-js-header]",logoSvg:"[data-js-header-logo-svg]"},l={isActive:"is-active",isHiding:"is-hiding"},d=document.querySelector(T.root),w=d.querySelector(T.logoSvg);let P=window.scrollY;const R=()=>{const t=window.scrollY;t>450?(w.classList.add(l.isActive),d.classList.add(l.isActive),d.classList.remove(l.isHiding)):(t<P?d.classList.contains(l.isActive)&&(d.classList.add(l.isHiding),setTimeout(()=>{d.classList.remove(l.isHiding)},1e3)):d.classList.remove(l.isHiding),w.classList.remove(l.isActive),d.classList.remove(l.isActive)),P=t};function V(){window.addEventListener("scroll",R),R()}const n={root:"[data-js-form]",formName:"[data-js-form-name]",formSelect:"[data-js-form-select]",formEmail:"[data-js-form-email]",formPhone:"[data-js-form-phone]",formDateForm:"[data-js-form-date-from]",formDateTo:"[data-js-form-date-to]",isAdultRadioButton:"[data-js-form-is-adult]",notAdultRadioButton:"[data-js-form-not-adult]",formCheckbox:"[data-js-form-checkbox]",findTourButton:"[data-js-form-button-find-tour]"},r={notSelected:"not-selected",invalid:"invalid"},m=document.querySelector(n.root),g=document.querySelector(n.formName),h=m.querySelector(n.formSelect),L=m.querySelector(n.formEmail),c=m.querySelector(n.formPhone),f=m.querySelector(n.formDateForm),v=m.querySelector(n.formDateTo),O=document.querySelector(n.isAdultRadioButton),q=document.querySelector(n.notAdultRadioButton),B=document.querySelector(n.formCheckbox),$=document.querySelector(n.findTourButton),j=new Date().setHours(0,0,0,0);let p=!1,E=!1,S=!1,y=!1,b=!1,D=!1,A=!1;const x=t=>t.trim().length>0,Y=t=>t.value!=="",I=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),M=t=>/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(t),U=()=>{let t=c.value.replace(/\D/g,"").substring(0,11);const e=t.startsWith("7")||t.startsWith("8")?t.substring(1):t;c.value="+7"+(e.length>0?" ("+e.substring(0,3):"")+(e.length>3?") "+e.substring(3,6):"")+(e.length>6?"-"+e.substring(6,8):"")+(e.length>8?"-"+e.substring(8,10):""),c.setSelectionRange(c.value.length,c.value.length)},k=t=>{const e=/^(\d{2})\.(\d{2})\.(\d{4})$/,a=t.match(e);if(!a)return!1;const u=parseInt(a[1],10),s=parseInt(a[2],10)-1,o=parseInt(a[3],10),i=new Date(o,s,u);return i.getFullYear()!==o||i.getMonth()!==s||i.getDate()!==u?!1:i.setHours(0,0,0,0)>=j},W=(t,e)=>{if(!k(t)||!k(e))return!1;const[a,u,s]=t.split(".").map(Number),[o,i,F]=e.split(".").map(Number),C=new Date(s,u-1,a),N=new Date(F,i-1,o);return C<j||N<j?!1:C<=N},K=()=>!O.checked&&!q.checked?!1:!q.checked,z=()=>B.checked,H=t=>{let e=t.value.replace(/\D/g,"");e.length>2&&(e=e.slice(0,2)+"."+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"."+e.slice(5,9)),t.value=e.slice(0,10)},G=()=>{g.addEventListener("input",()=>{g.classList.remove(r.invalid),p=x(g.value)}),h.addEventListener("change",()=>{h.classList.remove(r.invalid,r.notSelected),E=Y(h)}),L.addEventListener("input",()=>{L.classList.remove(r.invalid),S=I(L.value)}),c.addEventListener("input",()=>{U(),c.classList.remove(r.invalid),y=M(c.value)});const t=()=>{f.classList.remove(r.invalid),v.classList.remove(r.invalid),b=W(f.value,v.value)};f.addEventListener("input",()=>{H(f),t()}),v.addEventListener("input",()=>{H(v),t()});const e=()=>{D=K()};O.addEventListener("change",e),q.addEventListener("change",e),B.addEventListener("change",()=>{A=z()}),$.addEventListener("click",a=>{a.preventDefault(),p||(alert('Неверно заполнено поле "Имя".'),g.classList.add(r.invalid)),E||(alert("Не выбрано направление."),h.classList.add(r.invalid,r.notSelected)),S||(alert("Допущена ошибка а адресе электронной почты."),L.classList.add(r.invalid)),y||(alert("Неверный формат номера телефона."),c.classList.add(r.invalid)),b||(alert("Проверьте правильность введённых дат."),f.classList.add(r.invalid),v.classList.add(r.invalid)),D||alert("Для использования данного сервиса вам должно быть 18 лет или больше."),A||alert("Вы не приняли условия Лицензионного договора. Пожалуйста, отметьте соответствующее поле."),p&&E&&S&&y&&b&&D&&A&&(alert("Спасибо за вашу заявку!"),m.submit())})};console.clear();V();G();
