(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const T={root:"[data-js-header]",logoSvg:"[data-js-header-logo-svg]"},n={isActive:"is-active",isHiding:"is-hiding"},c=document.querySelector(T.root),p=c.querySelector(T.logoSvg);let P=window.scrollY;const H=()=>{const t=window.scrollY;t>450?(p.classList.add(n.isActive),c.classList.add(n.isActive),c.classList.remove(n.isHiding)):t<80?(p.classList.remove(n.isActive),c.classList.remove(n.isActive),c.classList.remove(n.isHiding)):(t<P?c.classList.contains(n.isActive)&&(c.classList.add(n.isHiding),setTimeout(()=>{c.classList.remove(n.isHiding)},1e3)):c.classList.remove(n.isHiding),p.classList.remove(n.isActive),c.classList.remove(n.isActive)),P=t};function V(){window.addEventListener("scroll",H),H()}const i={root:"[data-js-form]",formName:"[data-js-form-name]",formSelect:"[data-js-form-select]",formEmail:"[data-js-form-email]",formPhone:"[data-js-form-phone]",formDateForm:"[data-js-form-date-from]",formDateTo:"[data-js-form-date-to]",isAdultRadioButton:"[data-js-form-is-adult]",notAdultRadioButton:"[data-js-form-not-adult]",formCheckbox:"[data-js-form-checkbox]",findTourButton:"[data-js-form-button-find-tour]"},r={notSelected:"not-selected",invalid:"invalid"},m=document.querySelector(i.root),g=document.querySelector(i.formName),h=m.querySelector(i.formSelect),L=m.querySelector(i.formEmail),d=m.querySelector(i.formPhone),f=m.querySelector(i.formDateForm),v=m.querySelector(i.formDateTo),O=document.querySelector(i.isAdultRadioButton),j=document.querySelector(i.notAdultRadioButton),B=document.querySelector(i.formCheckbox),$=document.querySelector(i.findTourButton),C=new Date().setHours(0,0,0,0);let E=!1,S=!1,y=!1,b=!1,D=!1,A=!1,q=!1;const x=t=>t.trim().length>0,Y=t=>t.value!=="",I=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),M=t=>/^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(t),U=()=>{let t=d.value.replace(/\D/g,"").substring(0,11);const e=t.startsWith("7")||t.startsWith("8")?t.substring(1):t;d.value="+7"+(e.length>0?" ("+e.substring(0,3):"")+(e.length>3?") "+e.substring(3,6):"")+(e.length>6?"-"+e.substring(6,8):"")+(e.length>8?"-"+e.substring(8,10):""),d.setSelectionRange(d.value.length,d.value.length)},R=t=>{const e=/^(\d{2})\.(\d{2})\.(\d{4})$/,a=t.match(e);if(!a)return!1;const u=parseInt(a[1],10),s=parseInt(a[2],10)-1,o=parseInt(a[3],10),l=new Date(o,s,u);return l.getFullYear()!==o||l.getMonth()!==s||l.getDate()!==u?!1:l.setHours(0,0,0,0)>=C},W=(t,e)=>{if(!R(t)||!R(e))return!1;const[a,u,s]=t.split(".").map(Number),[o,l,F]=e.split(".").map(Number),N=new Date(s,u-1,a),w=new Date(F,l-1,o);return N<C||w<C?!1:N<=w},K=()=>!O.checked&&!j.checked?!1:!j.checked,z=()=>B.checked,k=t=>{let e=t.value.replace(/\D/g,"");e.length>2&&(e=e.slice(0,2)+"."+e.slice(2)),e.length>5&&(e=e.slice(0,5)+"."+e.slice(5,9)),t.value=e.slice(0,10)},G=()=>{g.addEventListener("input",()=>{g.classList.remove(r.invalid),E=x(g.value)}),h.addEventListener("change",()=>{h.classList.remove(r.invalid,r.notSelected),S=Y(h)}),L.addEventListener("input",()=>{L.classList.remove(r.invalid),y=I(L.value)}),d.addEventListener("input",()=>{U(),d.classList.remove(r.invalid),b=M(d.value)});const t=()=>{f.classList.remove(r.invalid),v.classList.remove(r.invalid),D=W(f.value,v.value)};f.addEventListener("input",()=>{k(f),t()}),v.addEventListener("input",()=>{k(v),t()});const e=()=>{A=K()};O.addEventListener("change",e),j.addEventListener("change",e),B.addEventListener("change",()=>{q=z()}),$.addEventListener("click",a=>{a.preventDefault(),E||(alert('Неверно заполнено поле "Имя".'),g.classList.add(r.invalid)),S||(alert("Не выбрано направление."),h.classList.add(r.invalid,r.notSelected)),y||(alert("Допущена ошибка а адресе электронной почты."),L.classList.add(r.invalid)),b||(alert("Неверный формат номера телефона."),d.classList.add(r.invalid)),D||(alert("Проверьте правильность введённых дат."),f.classList.add(r.invalid),v.classList.add(r.invalid)),A||alert("Для использования данного сервиса вам должно быть 18 лет или больше."),q||alert("Вы не приняли условия Лицензионного договора. Пожалуйста, отметьте соответствующее поле."),E&&S&&y&&b&&D&&A&&q&&(alert("Спасибо за вашу заявку!"),m.submit())})};console.clear();V();G();
